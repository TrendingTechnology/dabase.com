[[!meta title="Steps to make a S3 hosted Git repository"]]

Lets create a bucket from the command line using the [AWS
CLI](https://github.com/aws/aws-cli) [S3
commands](http://docs.aws.amazon.com/cli/latest/reference/s3/index.html):

	$ aws s3 mb s3://monitortest
	~/tmp/monitor/.git$ git update-server-info
	~/tmp/monitor/.git$ cd ..
	~/tmp/monitor$ aws s3 sync .git/ s3://monitortest
	upload: .git/objects/info/packs to s3://monitortest/objects/info/packs
	upload: .git/info/refs to s3://monitortest/info/refs

Now comes the painful bit since there is [no way to set permissions this from aws cli](https://github.com/aws/aws-cli/issues/334), where you need to go to <https://console.aws.amazon.com/s3> to:

1. [Add permissions](http://s.natalian.org/2013-09-12/1378973293_1366x768.png)
* [Add more permissions](http://s.natalian.org/2013-09-12/s3-permissions.png)
* [Change site to **Static Website Hosting**](http://s.natalian.org/2013-09-12/1378972948_1366x768.png)

If everything goes well, you will be able to do something like this:

	$ git clone http://monitortest.s3-website-ap-southeast-1.amazonaws.com
	Cloning into 'monitortest.s3-website-ap-southeast-1.amazonaws.com'...
	Checking connectivity... done

If you don't, you will get 403 errors. I'm aiming to use [S3 as a backup for my
family
photographs](http://natalian.org/archives/2013/05/09/How_I_organise_my_pictures/).
