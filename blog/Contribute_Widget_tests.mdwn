In order for a "Working Draft" specification to become a "Candidate
Recommendation" at the W3C, it is [likely to need a test
suite](http://www.w3.org/2005/10/Process-20051014/tr.html#cfr).

Since the [Widget P&C specification](http://dev.w3.org/2006/waf/widgets/) is of
profound interest to many, we hope you too will be interested in helping
realise its potential. A [Widget test
suite](http://dev.w3.org/cvsweb/2006/waf/widgets/tests/) would help
ensure compliant and interoperable Widget runtimes(WRTs).

# Grab the sources & build some existing [test cases](http://dev.w3.org/cvsweb/2006/waf/widgets/tests/test-cases/)

	export CVSROOT=:pserver:anonymous@dev.w3.org:/sources/public
	cvs login
	cvs checkout 2006/waf/widgets
	cd 2006/waf/widgets/tests/test-cases/

	BASE=$(pwd)
	for test in $(find . -type d -mindepth 2 -maxdepth 2 | grep -v CVS)
	do
		test=$(echo $test | sed 's!./!!')
		echo $test
		ZIP=$(echo $test | tr / -).wgt
		cd $test
		find . -name "CVS" -prune -o -print | zip $BASE/$ZIP -@
		cd $BASE
	done

# Templates and guides

* [Widgets 1.0: Test Suite for Packaging and Configuration](http://dev.w3.org/2006/waf/widgets/tests/)
* [Another basic test guide primer](http://webkit.org/quality/testwriting.html)

# Tip for [vim](http://en.wikipedia.org/wiki/Vim_%28text_editor%29) users:

	au BufReadCmd *.wgt call zip#Browse(expand("<amatch>"))

# How the tests for the _test assertions_ are tracked

The [Widgets 1.0: Test Suite for Packaging and Configuration](http://dev.w3.org/2006/waf/widgets/tests/) has some Javascript which extracts the test assertions from <http://dev.w3.org/cvsweb/~checkout~/2006/waf/widgets/Overview_TSE.html?content-type=application/xml;%20charset=utf-8>.

Every testable assertion (TA) has a unique id, so ultimately it gets "mashed
up" with a
[test-suite.xml](http://dev.w3.org/2006/waf/widgets/tests/test-suite.xml),
which will have entries like:

	<test for="ta-JXLFgompun" src="test-suite/ta-JXLFgompun/000/test.wgt">
	Test baseline support for Zip spec. To pass, the user agent must display index.html as the start file. 
	</test>

What is **ta-JXLFgompun** again? You can check it by either:

* Finding the string `ta-JXLFgompun` in [Widgets 1.0: Test Suite for Packaging and Configuration](http://dev.w3.org/2006/waf/widgets/tests/)
* Or by appending it to the Widget packaging specification like so <http://dev.w3.org/2006/waf/widgets/Overview_TSE.html#ta-JXLFgompun>

## How do I see if a certain test assertion has an existing test?

	hendry@x61 tests$ find . -name 'test-suite*.xml' | xargs grep JXLFgompun | grep src
	./test-cases/test-suite-marcos.xml:<test for="ta-JXLFgompun" src="test-suite/ta-JXLFgompun/000/test.wgt">

Here we can see marcos has a test for
<http://dev.w3.org/2006/waf/widgets/Overview_TSE.html#ta-JXLFgompun>. Only once
reviewed and accepted the test is place in `test-suite.xml`.
